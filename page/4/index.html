<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.148.1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AswinBlue</title><meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="Dev Blog by AswinBlue"><meta name=author content="Hugo Authors"><link rel=canonical href=https://aswinblue.github.io/Blog/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=https://aswinblue.github.io/Blog/assets/css/stylesheet.min.ac5e39aebcdf573fbb0ab1501e9a28c0b9ed17e8d1576545c4256969e923d75c.css integrity="sha256-rF45rrzfVz+7CrFQHpoowLntF+jRV2VFxCVpaekj11w=" rel="preload stylesheet" as=style><link rel=icon href=https://aswinblue.github.io/Blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://aswinblue.github.io/Blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://aswinblue.github.io/Blog/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://aswinblue.github.io/Blog/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://aswinblue.github.io/Blog/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://aswinblue.github.io/Blog/index.xml><link rel=alternate type=application/json href=https://aswinblue.github.io/Blog/index.json><link rel=alternate hreflang=en href=https://aswinblue.github.io/Blog/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aswinblue.github.io/Blog/ accesskey=h title="AswinBlue (Alt + H)">AswinBlue</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://aswinblue.github.io/Blog/archives title=Archive><span>Archive</span></a></li><li><a href=https://aswinblue.github.io/Blog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://aswinblue.github.io/Blog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://aswinblue.github.io/Blog/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><div class=grid-container><div style=float:left;margin:30px class=auto-hide-div><ul><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webhacking/>WebHacking</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webhacking/exploit/>Exploit</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webhacking/cookie/>Cookie</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webhacking/web/>Web</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webhacking/http/>HTTP</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/systemhacking/>System Hacking</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/systemhacking/reverse_engineering/>Reverse Engineering</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/systemhacking/exploit/>Exploit</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/systemhacking/pwntool/>Pwntool</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/assembly/>Assembly</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/assembly/assembly_basic/>Assembly_basic</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/projects/>🔷Projects</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/projects/dev_tools/>DevTool</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/projects/youtube_downloader/>Youtube Downloader</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/projects/delver/>Delver</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/projects/flick_through/>FlickThrough</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/windowapp/>WindowApp</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/windowapp/window_programming/>Window_programming</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/windowapp/kivy/>Kivy</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webserver/>WebServer</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webserver/spring_boot/>Spring_boot</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webserver/spring/>Spring basic</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webserver/nodejs/>Nodejs</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/>WebApplication</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/thymeleaf/>thymeleaf</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/tailwind/>Tailwind</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/angular/>Angular</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/react_basic/>React basic</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/pythoncgi/>PythonCGI</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/javascript/>JavaScript</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/css/>Css</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/webapplication/html/>HTML</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/python/>Python</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/python/python_basic/>Python 기초</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/mobileapp/>MobileApp</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/mobileapp/flutter/>Flutter</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/machinelearning/>MachineLearning</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/machinelearning/tensorflow/>Tensorflow</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/java/>Java</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/java/jython/>Jython</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/>Linux</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/ipc/>IPC</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/thread/>Thread</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/process/>Process</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/system_programming/>System_programming</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/shell_programming/>Shell Programming</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/linux_introduction/>Linux_introduction</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/linux_env/>Linux_env</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/virtual_box/>Virtual_box</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/linux_command/>Linux commands</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/linux/linux_apt/>Linux_apt</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/hugo/>Hugo</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/hugo/hugo_dev/>Hugo 환경세팅</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/hugo/sample/>Markdown Syntax Guide</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/golang/>GoLang</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/golang/golang/>Golang</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/git/>Git</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/git/github_action/>Github Action</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/git/git/>Git</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/developtips/>DevelopTips</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/developtips/vscode/>VsCode</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/developtips/window/>Window</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/developtips/web_scrapping/>Web_scrapping</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/databases/>DataBases</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/databases/database/>Database</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/databases/firebase_react/>Firebase_react</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/databases/firebase/>Firebase</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/databases/mysql/>Mysql</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/crypto/>Crypto</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/crypto/cryptocurrency/>Cryptocurrency</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/computerscience/>ComputerScience</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/computerscience/computer_science/>Computer Science</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/cloud/>Cloud</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/cloud/aws/>Aws</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/ci_cd/>CI_CD</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/ci_cd/docker/>Docker</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/algorithm/>Algorithm</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/algorithm/algorithm/>Algorithm</a></li></ul></li><li style=list-style-position:inside;text-indent:20px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/>C++</a><ul><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/unit_test/>Unit Test</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/make/>Make</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/gcc/>Gcc</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/c++_stl/>C++_stl</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/gdb/>GDB</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/c++/>C++ basic</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/cmake/>CMake</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/json_c++/>Json in C++</a></li><li style=list-style-position:inside;text-indent:30px;color:#fff><a href=https://aswinblue.github.io/Blog/post/c++/log_c++/>spdlog C++</a></li></ul></li><ul></ul><ul><li style=list-style-position:inside;text-indent:10px;color:#fff><a href=https://aswinblue.github.io/Blog/about/>About</a></li><li style=list-style-position:inside;text-indent:10px;color:#fff><a href=https://aswinblue.github.io/Blog/archives/>Archive</a></li><li style=list-style-position:inside;text-indent:10px;color:#fff><a href=https://aswinblue.github.io/Blog/search/>Search</a></li></ul></ul></div><main class=main style=grid-row:1;grid-column:2;width:100%><article class=post-entry><header class=entry-header><h2>FlickThrough</h2></header><div class=entry-content><p>Flick Through github: https://github.com/AswinBlue/FlickThrough
Link : aswinblue.github.io/FlickThrough/
시작날짜: August 21, 2023
목표 텍스트 파일을 읽어 단어 단위로 슬라이드 쇼를 수행하는 앱 제작
요구사항 텍스트 파일의 공백과 줄바꿈을 기준으로 단어를 나누고 이를 화면에 출력 출력은 한 단어씩 이루어 지며 분당 300개를 기본으로, 속도는 조절 가능 단어 자르는건 커스텀 가능 특정 문자마다 딜레이 다르게 줄 수 있도록 설정 스크린샷 혹은 클립보드의 내용도 사용할 수 있도록 함 기능 구현 1. 구현 내용 UI 구성 텍스트가 출력될 텍스트박스, 진행률 표시바, 시작/일시정지 버튼, 속도 조절 스크롤바, 파일 읽기 버튼을 구성
...</p></div><footer class=entry-footer>&lt;span title='2024-01-30 21:12:32 +0900 KST'>January 30, 2024&lt;/span>&amp;nbsp;·&amp;nbsp;9 min&amp;nbsp;·&amp;nbsp;AswinBlue</footer><a class=entry-link aria-label="post link to FlickThrough" href=https://aswinblue.github.io/Blog/post/projects/flick_through/></a></article><article class=post-entry><header class=entry-header><h2>IPC</h2></header><div class=entry-content><p>IPC (Inter Process Communicatrion) Signal Signal은 프로세스간 동기화를 위해 프로세스간 전송하는 신호를 의미한다. Software Interrupt 라고도 한다. 커널에서 kill -&lt;SIGNAL_NUMBER> &lt;PROCESS_ID> 명령으로 특정 PROCESS_ID에 ISGNAL_NUMBER에 해당하는 signal을 전달할 수 있다. signal은 총 64까지 정의되어 있고 131까지가 일반적으로 사용하는 signal이다. 3463은 고성능 네트워크 통신을 위한 시그널이다. (32, 33는 미정의) kill -l 명령으로 signal 리스트를 확인할 수 있다. SIGHUP SIGINT : 인터럽트, Ctrl+C 명령으로 전송 가능 SIGQUIT Coredump시 발생 SIGILL : Illegal instruction SIGTRAP : debugger is tracing SIGABRT : Abort process SIGBUS : bus error SIGFPE : Floating point exception SIGKILL : 강제 종료 SIGUSR1 : User-defined signal 1, 마음대로 사용 가능 SIGSEGV : invalid virtual memory reference SIGUSR2 : User-defined signal 2, 마음대로 사용 가능 SIGPIPE : 반대편이 연결되지 않은 pip에 신호 전송시 발생하는 에러 SIGALRM : alarm() 함수에 의해 발생한 시그널 1 SIGTERM : 종료 요청, SIGKILL(9)보다 안전한 종료 방법, SIGINT와 유사한 성능 SIGSTKFLT : Stack fault SIGCHLD : 자식 process가 종료될 때 부모에게 전달하는 신호 SIGCONT : SIGSTOP 에 의해 정지된 경우, 다시 시작하라는 신호 SIGSTOP : process 정지 SIGTSTP : process 일시정지, Ctrl+Z 명령으로 전송 가능 SIGTTIN : background 에 있을 때 read 요청을 받은 경우 발생 SIGTTOU : background 에 있을 때 write 요청을 받은 경우 발생 SIGURG : 긴급 통신을 받은 경우 (Out Of Band) SIGXCPU : 설정된 CPU 사용량을 초과하여 프로세스가 동작 한 경우 SIGXFSZ : 파일 크기가 허용된 크기를 초과한 경우 SIGVTALRM : 프로세스 실행시간 관리를 위한 시그널1 SIGPROF : 프로세스 실행시간 관리를 위한 시그널2 SIGWINCH : Window change SIGIO, SIGPOLL : Input/output is now possible SIGPWR, SIGLOST : Power failure SIGUNUSED, SIGSYS : Unused signal. Signal Library in C signal.h 에 정의된 signal 함수로 signal을 무시(ignore)하거나, 시그널 발생시 특정 함수를 동작(catch)시키도록 설정할 수 있다. 처리되지 않은 (ignore 또는 catch 처리) signal을 받으면 기본적으로 해당 프로세스는 종료한다. SIGKILL(강제종료 용도)과 SIGSTOP(디버깅시 일시정지 용도)시그널을 제외한 모든 시그널을 무시할 수 있다. signal(SIGNAL, PID) pid > 0 : PID에 SIGNAL 전달 pid &lt; 0 : PID의 절댓값에 해당하는 groupId를 가진 프로세스들에 SIGNAL 전달 pid == 0 : 자신과 같은 groupId를 가진 프로세스들에 SIGNAL 전달 alarm(TIME) : TIME초 이후 SIGALRM 시그널 발생 alarm timer가 만기되기 전 새로운 alarm을 호출하면 값을 덮어쓴다. 대신 alarm 함수는 남은 시간을 반환 한다. alarm(0) 을 호출하면 알림이 취소된다. 시그널 처리 flag는 bit연산으로 관리된다. sigset_t 타입의 bit 하나하나들은 1~64까지의 signal을 의미하고, 아래와 같이 set을 연산하여 process에서 signal을 설정할 수 있다. sigemptyset(siget_t* SET) : SET 모든 비트를 0으로 세팅. sigfillset(int SIGNAL, sigset_t* SET) : | 연산으로 SET 에서 SIGNAL에 해당하는 비트만 1로 세팅 sigdelset(int SIGNAL, sigset_t* SET) : & 연산으로 SIGNAL에 해당하는 비트만 0으로 세팅 sigismember(int SIGNAL, sigset_t* SET) : SET에서 SIGNAL비트가 1로 세팅되었다면 true 반환 sigprocmask(int HOW, siget_t* NEW, sigset_t* OLD) : 특정 SIGNAL을 무시하도록 설정할 수 있다. 필요할 경우 OLD에 siget_t* 타입 변수를 집어넣으면 현재 프로세스에 설정된 set을 담아낸다. SIG_BLOCK : NEW에 set된 signal들을 추가로 무시한다. SIG_UNBLOCK : NEW에 set 된 signal들의 무시처리를 해제한다. SIG_SETMASK : 기존 값에 상관없이 NEW에 set 된 signal들만 무시하도록 set을 덮어쓴다. signal 을 처리하여 signal에 의해 process가 정지되지 않는 구간을 임계영역 이라 한다. Pipe 프로세스간 단방향 통신을 위해 프로세스들의 표준 입출력을 서로 교차하여 연결하는 기법이다. 프로세스간 데이터 전송시 주로 사용된다. flow control이 기본적으로 제공된다. Pipe Library in C pipe(int[2] fd) : 파일 디스크립터 두개를 생성하고, 단방향 통신을 생성함
...</p></div><footer class=entry-footer>&lt;span title='2023-07-27 20:37:08 +0900 KST'>July 27, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;8 min&amp;nbsp;·&amp;nbsp;AswinBlue</footer><a class=entry-link aria-label="post link to IPC" href=https://aswinblue.github.io/Blog/post/linux/ipc/></a></article><article class=post-entry><header class=entry-header><h2>Thread</h2></header><div class=entry-content><p>Thread thread는 process의 경량화 버전으로 생각할 수 있다. pthread_create() 함수로 fork 명령을 대체하고, pthread_join() 으로 wait 명령을 대체하면 process 대신 thread를 동작시킨다. thread는 함수를 실행시키는 것이 기본이며, 함수를 실행시킬 때 넣을 인자와, 함수의 리턴값을 받을 인자를 pthread_create의 파라미터로 받는다. 리눅스 프로세스 표시 목록에 LWP(light-weight-process) 항목으로 표시되며, proces ID가 같더라도 LWP ID가 다르면 같은 process 안의 thread인 것. pthread_exit() 로 thread만 종료시킬 수 있다. main process가 종료되면 딸려있는 thread들도 함께 종료된다. 다만, main thread만 pthread_exit으로 종료시키면 process가 종료되지 않고 main thread만 종료되고 다른 thread들은 계속 구동되는 형태가 되므로 주의한다. int pthread_join(pthread_t thread, void **retval) : 자식 thread가 종료될 때 까지 대기하고, 종료처리를 해 주는 함수, pthread_exit()에서 반환된 값을 retval로 받아올수 있다. pthread_detach(int tid) : thread id가 tid에 해당하는 thread를 부모 thread에서 분리하는 함수. 이후 종료되고 join 처리를 대기하지 않고 바로 free됨. int pthread_self() : 자신의 thread id 를 확인할때 사용하는 함수 void* func(void* data)
{
(struct ARG*) data;
...
pthread_detach(pthread_self()); // pthread_join 대신 사용 가능
}
...
// thread 생성
struct ARG *arg;
int tid = pthread_create(&amp;thread, 0, func, arg);
...
pthread_join(tid, 0); // pthread_detach 대신 사용 가능
... process 와 thread 차이 process는 메모리를 수정하는 순간 메모리가 분리되지만, thread는 메모리를 공유하여 수정하고 나서도 같은 영역을 참조할수 있다. (전체 가상메모리를 공유한다.) process는 wait 값의 인자를 확인 에러를 확인할 수 있는 반면, thread의 에러는 pthread_join의 return 값을 확인한다. (값이 0 초과이면 에러가 됨) 일반적인 에러 처리는, errno.h 헤더파일에 errno 라는 변수가 전역변수로 선언되어 있고, 프로세스가 에러에 의해 종료될 경우 이 변수에 값을 채워넣는다. thread는 전역변수를 공유하기 때문에 errno를 사용하지 않는 것 Mutex 전역변수의 상호 참조에 의해 발생하는 race condition 문제를 해결하기 위해 사용할 수 있는 방법 race condition : 둘 이상의 thread가 전역변수를 참조할 때 메모리 접근하려 서로 경쟁하는 상황 pthread.h 헤더를 사용하며, pthread 라이브러리를 사용하기 떄문에 빌드시 옵션에 -lpthread를 추가해준다. pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;
...
pthread_mutex_lock(&amp;mutex);
// 전역변수 참조 영역
pthread_mutex_unlock(&amp;mutex); mutex를 사용해 임계 영역(critical section)에 대해 mutual exclusion 속성을 보장하여 동시 접속에 의한 오동작을 막을 수 있다. Mutex 내부 구조 C언어로는 compare와 set을 atomic하게 수행할 수 없어 mutual exclusion을 구현할 수 없다. cas(compare and set) 라는 코드를 어셈블리어에서 지원하는데, compare와 set을 atomic하게 처리할 수 있다. 아래 함수는 어셈블리어를 사용하여 C에서 cas를 구현한 내용이다. cpu 칩마다 지원하는 형태가 다를 수 있음에 주의한다. (아래는 인텔이 제공하는 형태) typedef int int32_t;
int mutex = 0; // 초기값 0
/**
* @brief old_value와 *ptr을 비교하여 같다면 *ptr에 new_value를 대입한다.
* mutex lock의 역할을 한다. * @return int old_value와 *ptr의 비교 결과가 같다면 false를, 다르다면 true를 반환
*/
int __bionic_cmpxchg(int32_t old_value, int32_t new_value, volatile int32_t* ptr)
{
int 32_t prev;
__asm__ __volatile__ ("lock; cmpxchgl %1, %2"
: "=a" (prev)
: "q" (new_value), "m" (*ptr), "0" (old_value)
: "memory");
return prev != old_value;
} Spin Lock while문을 반복하며 mutex를 계속 체크하는 기법 void spin_lock(int* mutex)
{
while (__bionic_cmpxchg(0, 1, mutex)); // mutex가 0이 될 때 까지 무한 대기 } CPU 활용도가 떨어지므로 임계영역이 짧은 경우만 사용 권장 Sleep Lock mutex를 기다리는 동안 thread를 sleep 시키면 thread에 할당된 리소스를 해제하여 다른 곳에 할당해 줄 수 있게 된다. gcc에서는 slelep lock을 지원하는 라이브러리가 없지만, 시스템 커맨드 라이브러리에는 futex(fast user mutex)라는 함수로 sleep lock을 지원한다. C언어로 사용하려면 시스템 콜로 futex를 호출하면 된다. #include &lt;unisted.h>
int mutex = 1;
void *foo(void *data)
{
sytstemcall 202, &amp;mutex, 0, 1, 0); // __futex_wait();
... /* critical section */
systemcall(202, &amp;mutex, 1, 1); // __futex_wake();
} __futex_wait 은 mutex_lock, __futex_wake는 mutex_unlock에 대응된다. Self Lock recursive 함수에서 mutex를 사용한다면 하나의 함수에서 동일한 mutex를 두번 호출하게 되는 “selfl lock"이 발생할 수 있다. self lock이 발생하면 마찬가지로 deadlock이 발생한다. 재귀 호출을 위한 recursive mutex lock 이 존재한다. mutex 생성시 attribute로 재귀함수를 위한 설정이 존재하며, mutex_lock을 한 thread에서 중복 호출 가능하며, mutex_lock을 호출한 수만큼 mutex_unlock을 호출해 주면 mutex가 해제된다. pthread_mutexattr_t attr;
pthread_mutex_t mutex;
...
pthread_mutexattr_init(&amp;attr);
pthread_mutexattr_settype(&amp;attr, PTHREAD_MUTEX_RECURSIVE);
pthread_mutuex_init(&amp;mutex, &amp;attr);
...
pthread_mutex_lock(&amp;mutex); // 1
pthread_mutex_lock(&amp;mutex); // 2
pthread_mutex_lock(&amp;mutex); // 3
...
pthread_mutex_unlock(&amp;mutex); // 1
pthread_mutex_unlock(&amp;mutex); // 2
pthread_mutex_unlock(&amp;mutex); // 3 Condition (조건변수) thread에서 전역 변수에 참조할 때, 순서를 제어하기 위해 사용하는 방법 아래 코드는 thread1에서 전역변수를 처리해야 thread2에서 전역변수에 접근이 가능하게 하는 코드이다. pthread_cond_t cond = PTHREAD_COND_INITIALIZER;
...
thread1()
{
pthread_mutex_lock(&amp;mutex);
// 전역변수 처리
pthread_cond_signal(&amp;cond);
pthread_mutex_unlock(&amp;mutex);
}
...
thread2()
{
pthread_mutex_lock(&amp;mutex);
pthread_cond_wait(&amp;cond);
// 전역변수 처리
pthread_mutex_unlock(&amp;mutex);
} Condition 내부 구조 func1()
{
pthread_mutex_lock(); // &lt;- (1)
do_something();
pthread_cond_signal();
pthread_mutex_unlock();
}
func2()
{
pthread_mutex_lock();
pthread_cond_wait(); // &lt;- (2)
do_something();
pthread_mutex_unlock();
} func1이 (1)에서 mutex unlock을 대기하고, func2가 (2)에서 condition signal을 대기하면 deadlock이 걸릴 것 같지만, condition wait와 mutex lock은 서로 교착상태를 만들지 않는다. pthread_cond_wait() 아래와 같이 mutex_unlock, futex_wait, mutex_lock으로 구성되어 있으므로 mutex pthread_cond_wait()
{
...
pthread_mutex_unlock();
while (condition == 0) // condition 조건이 충족될 때 까지 무한 대기
{
futex_wait(); // sleep lock
}
condition = 0; // condition 초기화
pthread_mutex_lock();
...
} 즉, condition wait는 condition signal이 발생한 시점이 아니라, mutex 가 unlock되는 시점에 탈출된다. Deadlock 두 개 이상의 Mutex가 서로 해제되기를 기다리며 대기하여 더 이상 process가 진행되지 못하게 되는 상황을 deadlock이라 한다. lock을 순서대로 잡고, cycle이 생기지 않게 관리하면 deadlock을 피할 수 있다. 재진입 가능 함수 (Reentrant) thread에서 사용할 수 있는 함수를 ‘재진입 가능 함수’ 라 한다. 즉, Thread-safe 한 함수를 의미한다. 내부적으롱 전역변수, 혹은 static 변수를 사용하는 함수는 ‘재진입 불가능’ 하다. strtok는 대표적인 재진입 불가능한 함수이다. func1()
{
strtok()
}
func2()
{
strtok()
}
main()
{
pthread_create(func1);
pthread_create(func2);
}
// -> strtok는 재진입 불가능한 함수이기 때문에 결과가 의도한 결과가 나오지 않을 수 있다. C 라이브러리에서는 strtok_r 이라는 재진입 가능한 함수를 제공한다. TLS / TSD TLS는 thread 의 전역 변수를 저장하기 위한 공간으로, 로더(Loader)에 의해서 할당된다. 리눅스에서는 TSD라 부른다. int pthread_setspecific(pthread_key_t key, const void *value) : ‘key’ 에 해당하는 영역에 ‘value’를 연결한다. value로는 동적할당한 메모리가 온다. void* pthread_getspecific(pthread_key_t key) : 기존에 set으로 할당한 key에 해당하는 메모리를 가져온다. void pthread_key_create(pthread_key_t key, void* (*descturctor)(void*)) 할당한 메모리를 해제하는 역할을 수행할 함수 void destructor(void* ptr){free(p);}를 정의하고, destructor의 포인터를 key와 매핑시킨다. void main(void)
{
pthread_key_t key;
pthread_key_create(key, void (*destructor)(void*));
}
void func1(void)
{
int *tsd = pthread_get_specific(key) // key에 해당하는 영역 가져옴
if (!tsd) // null 받았을 시
{
tsd = calloc(1, sizeof int); // int 영역이 필요해서 동적할당. 다른 자료형도 가능
pthread_set_specific(key, tsd); // TSD 영역에 저장
}
}
void destructor(void* ptr)
{
free(p);
} TLS는 내부적으로 void* tls[] 배열을 bitmap 형태로 지니고, pthread_set_specific을 할 경우 tls[idx]에 메모리 주소를 대입한다. pthread_set_specific을 호출할 때 마다 idx는 자동으로 갱신된다. thread가 종료될 때 모든 key에 대해 소멸자로 정의된 destructor가 호출된다.</p></div><footer class=entry-footer>&lt;span title='2023-07-23 15:05:46 +0900 KST'>July 23, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;5 min&amp;nbsp;·&amp;nbsp;AswinBlue</footer><a class=entry-link aria-label="post link to Thread" href=https://aswinblue.github.io/Blog/post/linux/thread/></a></article><article class=post-entry><header class=entry-header><h2>Process</h2></header><div class=entry-content><p>Process Program vs Process Process : 실행중인 프로그램 Program : 실행 가능한 파일 Process는 메모리에 올라가 있는 상태의 프로그램을 의미한다. C언어 Program to Process C언어로 구성된 프로그램은 전처리 - 컴파일 - 링킹 - 로딩의 과정을 거친다. 전처리 : # 으로 시작하는 라인들을 알맞은 형태로 치환한다. 컴파일 : C언어(high-level language)를 어셈블리어(기계어) 로 변환한다. 링킹 : 외부의 ELF(Executable and Linkable Format) 파일들을 호출할 수 있도록 연결한다. 로딩 : 최종 생성된 파일을 실행시켜 메모리에 올려 프로세스로 만든다. 리눅스에서는 execv() 함수에 의해 프로세스화 된다. 프로세스 fork fork() 함수는 프로세스를 복사하는 함수이다. unistd.h 헤더에 선언되어 있다. 복사당한 프로세스를 부모 프로세스, 복사해서 생성된 프로세스를 자식 프로세스라 한다. 복사된 자식 프로세스도 fork 실행 이후부터 코드가 진행된다. fork 함수의 반환값은 pid_t 타입이다. 반환값이 -1이라면 실패를 의미한다. 결과가 0이라면 현재 프로세스는 자식 프로세스임을 의미한다. 0이 아니닌 값이라면 현재 프로세스는 부모 프로세스이다. 반환값은 자식프로세스의 process id를 의미하며, 리눅스 명령어 ps -ef 로 pid를 확인 할 수 있다. Race Condition : 일단 fork가 되어 프로세스가 부모 자식으로 나뉘면, 프로세스의 실행은 병렬적으로 이루어지며, 같은 코드라도 어느 것이 먼저 동작할지 알 수 없다. wait fork() 로 자식 프로세스를 생성한 후 자식 프로세스가 exit()를 호출하여 종료될 때, 부모 process는 자식 process의 종료 결과를 wait() 으로 받을수 있다. wait(statloc *status) : 자식 process에서 호출된 exit() 함수 안에 들어간 인자값을 status(인자는 4byte int지만, 사용하는 부분은 2byte) 에 담아낸다. status 값은 상위 1byte와 하위 1byte를 구분해서 사용한다. 정상적으로 종료가 된경우는 exit() 함수에 의한 종료를 의미하며, status의 상위 1byte에 exit의 인자값을 담아낸다. 비정상 종료는 signal에 의한 종료를 의미하며, signal 번호 값을 status의 하위 1byte에 담아낸다. 0~7번 bit : 자식 process 정상종료시 종료 status 8번 bit : core dump 여부 9~15번 bit : 시그널 번호 status값을 인자로 받아 종료 사유를 회신하는 매크로 함수를 사용하면 쉽게 판단할 수 있다. WIFEXITED, WEXITEDSTATUS, WIFSIGNALED … 메모리 부모 프로세스를 복사해 자식 프로세스를 생성해도 code 영역은 공유된다. code 영역은 read only memory 이기 때문에 자식 프로세스는 부모 프로세스의 ram 영역 값도그대로 복사 해 온다. 하지만, 자식 프로세스가 새성될 당시 메모리가 바로 복사되는 것이 아니라, 메모리에 값을 작성하는 시점에 복사가 된다. 즉, 부모나 자식 프로세스에서 값을 덮어쓰거나 새로 생성하지 않은 변수에 대해서는 같은 메모리를 바라보고 있다고 볼 수 있다. 메모리는 reference count를 들고 있어 몇개의 프로세스에서 해당 영역을 참조하는지 체크한다. 프로세스 생명 주기 (Life Cycle) 모든 프로세스는 부모 프로세스가 있고, 가장 최초로 실행된 프로세스를 init 프로세스라 하며, init 프로세스의 pid는 1이다.
...</p></div><footer class=entry-footer>&lt;span title='2023-07-18 20:15:29 +0900 KST'>July 18, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;8 min&amp;nbsp;·&amp;nbsp;AswinBlue</footer><a class=entry-link aria-label="post link to Process" href=https://aswinblue.github.io/Blog/post/linux/process/></a></article><article class=post-entry><header class=entry-header><h2>System_programming</h2></header><div class=entry-content><p>System Programming 프로그램이 동작하는 구조는 크게 application, kernel, HW 로 분리할 수 있다. _____________
| Library |
¯¯¯¯¯¯¯¯¯¯¯¯¯ Application level
------------------------------
_____________
|System call|
¯¯¯¯¯¯¯¯¯¯¯¯¯ Kernel level
------------------------------
_____________
| Hardware |
¯¯¯¯¯¯¯¯¯¯¯¯¯ H/W level
------------------------------ application level에서는 library를 사용하며, 이 코드들은 library buffer를 사용한다. (open(), read(), write(), close() …) 시스템에서 제공하는 최적의 buffer 단위로 disk에서 값을 읽어오고, library buffer에 담아두면 작은단위로 읽어올 때 효율적이다. 예를들어, 한 줄씩 파일을 읽어야 한다면, 1byte씩 파일에서 ‘\n’을 감지할 때 까지 읽을 수 있지만, BUF_SIZ만큼 파일에서 읽어서 library buffer에 담아두고 library buffer를 1byte씩 읽으며 ‘\n’를 찾는 것이 실행 속도는 더 빠르다. (IO접근은 적을수록 효율적) Kernel level에서는 System call을 사용하며 system buffer를 사용한다. application level 함수를 사용하면, 보통 library buffer를 1차적으로 사용하고, 내부적으로 system call을 수행해 system buffer를 2차적으로 사용하게 된다. printf는 c library 함수이며, ‘\n’을 만나야 화면상에 출력을 한다. ‘\n’이 입력되기 전 까지 문자열들은 library buffer에 기록된다. fprintf는 ‘\n’과 상관없이 문자열을 출력한다. 즉 library buffer를 사용하지 않는다. 파일 입출력 fgetc C에서 파일에 접근하기 위해서는 fopen 함수를 사용한다. fopen은 파일 포인터를 반환하며, 코드 내에서 파일 포인터로 해당 파일에 접근이가능하다. fgetc(FPTR) 함수는 fopen으로 연 파일 포인터를 참조해서 char 하나를 읽고 반환한다. fgetc 함수의 반환 값은 int 형태이다. text file을 읽을 땐, 0xFF값이 내용에 올 수 없지만, binary file을 읽을 땐 중간에 0xFF 값이 올 수 있다. char 형태로 0xFF를 읽으면 -1값에 해당하기 때문에, EOF와 구분이 불가능하여 char 대신 int를 반환하도록 되어있다. 파일 구조체 fopen은 파일 구조체의 주소(포인터)를 반환한다. 파일 구조체는 아래와 같은 내용을 담고 있다. _flags: _IO_read_ptr : 다음 명령시 파일을 읽거나 쓸 위치 _IO_read_end: kernel에서 데이터를 받아서 저장할 버퍼의 끝 위치. _IO_read_base: kernel에서 데이터를 받아서 저장할 버퍼의 시작 위치. 파일에 대한 읽기 명령(fgetc/fgets등) 이 발생했을 때, kernel은 4096byte(BUF_SIZE) 만큼 데이터를 미리 읽어서 이곳에 채워둔다. _fileno: 파일의 offset, kernel에서 해당 파일에 정해준 index(kernel 함수에서 사용할 수 있다.) fopen 시에 파일 구조체가 생성 및 초기화 되지만, IO_read* 인자들은 파일 접근이 이루어짐과 동시에 값이 적용된다. EOF 파일을 끝까지 읽었다고 판단하는 것은, EOF 문자(-1) 으로 판단한다. 하지만 실제파일을 읽어보면 마지막에 -1값이 실제로 들어있지는 않다. EOF 값은 file I/O 함수의 리턴값일 뿐 실제 파일에 기입된 값이 아니다. file I/O 함수는 i-node에 기록된 파일의 크기를 기반으로 파일 끝을 판단한다. ASKII 코드 중 주요 문자의 값 참조 a: 97 A: 68 0: 48 \n: 10 \r: 13 (공백): 32 \t: 9 \0: 0 fguts(BUFF, SIZE, FPTR) 함수는 fopen으로 연 파일 포인터를 참조해서 line 하나를 읽어온다. fputs(BUFF, FPTR) 함수는 fopen으로 연 파일 포인터를 참조해서 line 하나를 출력한다. 리눅스에서 표준 입력/출력/에러는 기본적으로 파일 포인터를 열어둔다. 각각 아래 문자열 혹은 번호로 참조 가능하다. stdin : 표준 입력 stdout : 표준 출력 stderr: 표준 에러 -> 파일 포인터 대신 stdout 을 입력하면 표준 출력으로 문자열이 출력된다. (ex: fputc(BUF, stdout))
...</p></div><footer class=entry-footer>&lt;span title='2023-07-15 08:35:21 +0900 KST'>July 15, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;10 min&amp;nbsp;·&amp;nbsp;AswinBlue</footer><a class=entry-link aria-label="post link to System_programming" href=https://aswinblue.github.io/Blog/post/linux/system_programming/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://aswinblue.github.io/page/3/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://aswinblue.github.io/page/5/>Next&nbsp;&nbsp;»</a></nav></footer></main><div class=auto-hide-div><ins class=kakao_ad_area style=display:none;position:fixed data-ad-unit=DAN-17Lk24lxFVgxtePU data-ad-width=160 data-ad-height=auto></ins></div><script type=text/javascript src=//t1.daumcdn.net/kas/static/ba.min.js async></script></div><footer class=footer><span>&copy; 2025 <a href=https://aswinblue.github.io/Blog/>AswinBlue</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>